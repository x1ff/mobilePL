/*
 * This source file was generated by the Gradle 'init' task
 */
package org.example;

import org.example.robots.InfoAlertRobot;
import org.example.robots.LoginScreenRobot;
import org.example.robots.UserScreenRobot;
import org.junit.jupiter.api.Test;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import static org.junit.jupiter.api.Assertions.assertEquals;


public class AppTest extends BaseTest {
    private static final Logger LOGGER = LoggerFactory.getLogger(AppTest.class.getName());

    @Test
    public void checkTextBtn1Test() {
        LOGGER.info("checkTextBtn1 test start");
        final String EXPECTED_TEXT = "Войти";
        assertEquals(
                EXPECTED_TEXT,
                new LoginScreenRobot().getLoginBtnText(),
                "У кнопки Войти неправильный текст"
        );
        LOGGER.info("checkTextBtn1 end");
    }

    @Test
    public void loginTest() {
        LOGGER.info("loginTest test start");
        final String EXPECTED_TEXT = "Успешная авторизация!";
        new LoginScreenRobot().typeUserName(Config.getUserLogin()).typePassword(Config.getUserPass()).clickToLoginBtn();
        new InfoAlertRobot().checkMsgText(EXPECTED_TEXT).clickOkBtn().checkDisappear();
        new UserScreenRobot().checkScreen();
        LOGGER.info("loginTest end");
    }

}
